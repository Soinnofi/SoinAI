<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoinAI API - –ì–æ—Ç–æ–≤—ã–π –∫–æ–¥</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #0d1117;
            color: #c9d1d9;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {
            color: #58a6ff;
            margin-bottom: 20px;
        }
        .code-block {
            background: #161b22;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #30363d;
            overflow-x: auto;
            margin-bottom: 20px;
        }
        pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .btn {
            display: inline-block;
            background: #238636;
            color: white;
            padding: 12px 24px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            margin-right: 10px;
            border: none;
            cursor: pointer;
        }
        .btn:hover {
            background: #2ea043;
        }
        .btn.secondary {
            background: #30363d;
        }
        .btn.secondary:hover {
            background: #484f58;
        }
        .instructions {
            background: rgba(88, 166, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #58a6ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üì¶ SoinAI API –¥–ª—è Chatbox</h1>
        
        <div class="instructions">
            <h3>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
            <p>1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –Ω–∏–∂–µ</p>
            <p>2. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Å–≤–æ–π Chatbox –ø—Ä–æ–µ–∫—Ç</p>
            <p>3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é <code>SoinAI.chat("—Å–æ–æ–±—â–µ–Ω–∏–µ")</code></p>
        </div>
        
        <div class="code-block">
            <pre id="apiCode">// –ó–∞–≥—Ä—É–∑–∫–∞ API...</pre>
        </div>
        
        <button class="btn" onclick="copyCode()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
        <a href="index.html" class="btn secondary">‚Üê –ù–∞–∑–∞–¥ –∫ SoinAI</a>
        <a href="https://github.com/yourusername/soinai" class="btn secondary" target="_blank">‚≠ê GitHub</a>
        
        <div style="margin-top: 40px;">
            <h3>–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:</h3>
            <div class="code-block">
                <pre>
// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SoinAI
async function askAI(question) {
    const response = await SoinAI.chat(question);
    return response.response;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
askAI("–ü—Ä–∏–≤–µ—Ç!").then(answer => {
    console.log("–û—Ç–≤–µ—Ç SoinAI:", answer);
});</pre>
            </div>
        </div>
    </div>
    
    <script>
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥–µ–ª—å –∏–∑ localStorage
        function loadAPICode() {
            try {
                const model = JSON.parse(localStorage.getItem('soinai_model'));
                if (!model) {
                    document.getElementById('apiCode').textContent = 
                        '// –°–Ω–∞—á–∞–ª–∞ –æ–±—É—á–∏—Ç–µ SoinAI –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ!\n' +
                        '// –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ index.html –∏ –ø–æ–æ–±—â–∞–π—Ç–µ—Å—å —Å –ò–ò.';
                    return;
                }
                
                const apiCode = `// SoinAI API v2.0
// –û–±—É—á–µ–Ω –Ω–∞ ${model.stats.dialogs || 0} –¥–∏–∞–ª–æ–≥–∞—Ö
// ${model.stats.words || Object.keys(model.dictionary || {}).length} —Å–ª–æ–≤ –≤ —Å–ª–æ–≤–∞—Ä–µ

const SoinAI = {
    model: ${JSON.stringify(model, null, 2)},
    
    chat: function(message) {
        return new Promise((resolve) => {
            // –ò—â–µ–º –æ—Ç–≤–µ—Ç –≤ —Å–ª–æ–≤–∞—Ä–µ
            const cleanMsg = message.toLowerCase();
            let foundResponse = null;
            
            for (const [word, responses] of Object.entries(this.model.dictionary || {})) {
                if (cleanMsg.includes(word)) {
                    foundResponse = responses[Math.floor(Math.random() * responses.length)];
                    break;
                }
            }
            
            // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—â–∏–π –æ—Ç–≤–µ—Ç
            if (!foundResponse) {
                const general = [
                    '–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –±–æ–ª—å—à–µ.',
                    '–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å!',
                    '–Ø –µ—â–µ —É—á—É—Å—å, –Ω–æ —Å—Ç–∞—Ä–∞—é—Å—å –ø–æ–º–æ—á—å.'
                ];
                foundResponse = general[Math.floor(Math.random() * general.length)];
            }
            
            resolve({
                success: true,
                response: foundResponse,
                timestamp: new Date().toISOString()
            });
        });
    }
};

// –≠–∫—Å–ø–æ—Ä—Ç
if (typeof module !== 'undefined') {
    module.exports = SoinAI;
} else {
    window.SoinAI = SoinAI;
}`;

                document.getElementById('apiCode').textContent = apiCode;
            } catch (e) {
                document.getElementById('apiCode').textContent = 
                    '// –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏\n' +
                    '// –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –Ω–∞—á–Ω–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ';
            }
        }
        
        function copyCode() {
            const code = document.getElementById('apiCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                alert('‚úÖ –ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
            });
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = loadAPICode;
    </script>
</body>
</html>
